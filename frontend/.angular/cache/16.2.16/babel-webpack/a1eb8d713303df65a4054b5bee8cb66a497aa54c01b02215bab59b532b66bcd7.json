{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { environment } from '@env/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nclass CodeExecutionService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${environment.apiUrl}/code`;\n  }\n  execute(request) {\n    return this.http.post(`${this.apiUrl}/execute`, request).pipe(map(response => response.data));\n  }\n  getHistory(page = 1, limit = 10) {\n    return this.http.get(`${this.apiUrl}/history?page=${page}&limit=${limit}`);\n  }\n  getSubmission(submissionId) {\n    return this.http.get(`${this.apiUrl}/submission/${submissionId}`).pipe(map(response => {\n      // Handle both direct response and wrapped response\n      return response.data || response;\n    }));\n  }\n  /**\n   * Get all submissions for the current user\n   */\n  getSubmissions(page = 1, limit = 20) {\n    return this.http.get(`${this.apiUrl}/history?page=${page}&limit=${limit}`);\n  }\n  static {\n    this.ɵfac = function CodeExecutionService_Factory(t) {\n      return new (t || CodeExecutionService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: CodeExecutionService,\n      factory: CodeExecutionService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}\nexport { CodeExecutionService };","map":{"version":3,"names":["map","environment","CodeExecutionService","constructor","http","apiUrl","execute","request","post","pipe","response","data","getHistory","page","limit","get","getSubmission","submissionId","getSubmissions","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\vijay\\OneDrive\\Desktop\\Personal Projects\\Airtribe_Project\\CodeRank\\frontend\\src\\app\\core\\services\\code-execution.service.ts"],"sourcesContent":["/**\r\n * Code Execution Service\r\n * Handles code execution API calls\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from '@env/environment';\r\n\r\nexport interface ExecuteCodeRequest {\r\n  code: string;\r\n  language: string;\r\n  input?: string;\r\n  title?: string;\r\n}\r\n\r\nexport interface ExecutionResult {\r\n  submissionId: string;\r\n  output: string;\r\n  error: string | null;\r\n  executionTime: number;\r\n  status: 'completed' | 'failed';\r\n}\r\n\r\nexport interface CodeExecutionResponse {\r\n  success: boolean;\r\n  data: ExecutionResult;\r\n  message: string;\r\n  timestamp: string;\r\n}\r\n\r\nexport interface CodeSubmission {\r\n  _id: string;\r\n  title: string;\r\n  code: string;\r\n  language: string;\r\n  output?: string;\r\n  error?: string;\r\n  status: string;\r\n  createdAt: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CodeExecutionService {\r\n  private apiUrl = `${environment.apiUrl}/code`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  execute(request: ExecuteCodeRequest): Observable<ExecutionResult> {\r\n    return this.http\r\n      .post<CodeExecutionResponse>(`${this.apiUrl}/execute`, request)\r\n      .pipe(map((response: CodeExecutionResponse) => response.data));\r\n  }\r\n\r\n  getHistory(page: number = 1, limit: number = 10): Observable<{ submissions: CodeSubmission[] }> {\r\n    return this.http.get<{ submissions: CodeSubmission[] }>(\r\n      `${this.apiUrl}/history?page=${page}&limit=${limit}`\r\n    );\r\n  }\r\n\r\n  getSubmission(submissionId: string): Observable<CodeSubmission> {\r\n    return this.http.get<any>(`${this.apiUrl}/submission/${submissionId}`).pipe(\r\n      map((response: any) => {\r\n        // Handle both direct response and wrapped response\r\n        return response.data || response;\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get all submissions for the current user\r\n   */\r\n  getSubmissions(page: number = 1, limit: number = 20): Observable<any> {\r\n    return this.http.get<any>(`${this.apiUrl}/history?page=${page}&limit=${limit}`);\r\n  }\r\n}\r\n"],"mappings":"AAQA,SAASA,GAAG,QAAQ,gBAAgB;AACpC,SAASC,WAAW,QAAQ,kBAAkB;;;AAmC9C,MAGaC,oBAAoB;EAG/BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,WAAW,CAACI,MAAM,OAAO;EAEN;EAEvCC,OAAOA,CAACC,OAA2B;IACjC,OAAO,IAAI,CAACH,IAAI,CACbI,IAAI,CAAwB,GAAG,IAAI,CAACH,MAAM,UAAU,EAAEE,OAAO,CAAC,CAC9DE,IAAI,CAACT,GAAG,CAAEU,QAA+B,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC;EAClE;EAEAC,UAAUA,CAACC,IAAA,GAAe,CAAC,EAAEC,KAAA,GAAgB,EAAE;IAC7C,OAAO,IAAI,CAACV,IAAI,CAACW,GAAG,CAClB,GAAG,IAAI,CAACV,MAAM,iBAAiBQ,IAAI,UAAUC,KAAK,EAAE,CACrD;EACH;EAEAE,aAAaA,CAACC,YAAoB;IAChC,OAAO,IAAI,CAACb,IAAI,CAACW,GAAG,CAAM,GAAG,IAAI,CAACV,MAAM,eAAeY,YAAY,EAAE,CAAC,CAACR,IAAI,CACzET,GAAG,CAAEU,QAAa,IAAI;MACpB;MACA,OAAOA,QAAQ,CAACC,IAAI,IAAID,QAAQ;IAClC,CAAC,CAAC,CACH;EACH;EAEA;;;EAGAQ,cAAcA,CAACL,IAAA,GAAe,CAAC,EAAEC,KAAA,GAAgB,EAAE;IACjD,OAAO,IAAI,CAACV,IAAI,CAACW,GAAG,CAAM,GAAG,IAAI,CAACV,MAAM,iBAAiBQ,IAAI,UAAUC,KAAK,EAAE,CAAC;EACjF;;;uBA/BWZ,oBAAoB,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAApBpB,oBAAoB;MAAAqB,OAAA,EAApBrB,oBAAoB,CAAAsB,IAAA;MAAAC,UAAA,EAFnB;IAAM;EAAA;;SAEPvB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}